{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import{doCreateUserWithEmailAndPassword}from'./firebase/auth';import{db}from'./firebase/firebase';import{ref,set}from'firebase/database';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignupPage(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState(null);const handleSignUp=async()=>{try{await doCreateUserWithEmailAndPassword(email,password);// Add the user to the database\nconst dbRef=ref(db,'users/'+email.replace('.',''));await set(dbRef,{email:email,role:'user'});}catch(error){setError(error.message);}};return/*#__PURE__*/_jsxs(\"section\",{id:\"signup\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h2\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignUp,children:\"Sign Up\"}),error&&/*#__PURE__*/_jsx(\"p\",{children:error})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]}),\" \"]});}export default SignupPage;","map":{"version":3,"names":["React","useState","Link","doCreateUserWithEmailAndPassword","db","ref","set","jsx","_jsx","jsxs","_jsxs","SignupPage","email","setEmail","password","setPassword","error","setError","handleSignUp","dbRef","replace","role","message","id","children","className","type","placeholder","value","onChange","e","target","onClick","to"],"sources":["/Users/efox2/Library/CloudStorage/OneDrive-BowdoinCollege/Desktop/2024CS/PQ4/reactTest/socialCalendar/src/SignupPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { doCreateUserWithEmailAndPassword } from './firebase/auth';\nimport { db } from './firebase/firebase';\nimport { ref, set } from 'firebase/database';\n\nfunction SignupPage() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n\n  const handleSignUp = async () => {\n    try {\n      await doCreateUserWithEmailAndPassword(email, password);\n      // Add the user to the database\n      const dbRef = ref(db, 'users/' + email.replace('.', ''));\n      await set(dbRef, {\n        email: email,\n        role: 'user'\n      });      \n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <section id=\"signup\">\n      <h2 className='h2'>Sign Up</h2>\n      <div>\n        <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n        <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        <button onClick={handleSignUp}>Sign Up</button>\n        {error && <p>{error}</p>}\n      </div>\n      <p>Already have an account? <Link to=\"/login\">Login</Link></p> {/* Link to the login page */}\n    </section>\n  );\n}\n\nexport default SignupPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,gCAAgC,KAAQ,iBAAiB,CAClE,OAASC,EAAE,KAAQ,qBAAqB,CACxC,OAASC,GAAG,CAAEC,GAAG,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAiB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAf,gCAAgC,CAACS,KAAK,CAAEE,QAAQ,CAAC,CACvD;AACA,KAAM,CAAAK,KAAK,CAAGd,GAAG,CAACD,EAAE,CAAE,QAAQ,CAAGQ,KAAK,CAACQ,OAAO,CAAC,GAAG,CAAE,EAAE,CAAC,CAAC,CACxD,KAAM,CAAAd,GAAG,CAACa,KAAK,CAAE,CACfP,KAAK,CAAEA,KAAK,CACZS,IAAI,CAAE,MACR,CAAC,CAAC,CACJ,CAAE,MAAOL,KAAK,CAAE,CACdC,QAAQ,CAACD,KAAK,CAACM,OAAO,CAAC,CACzB,CACF,CAAC,CAED,mBACEZ,KAAA,YAASa,EAAE,CAAC,QAAQ,CAAAC,QAAA,eAClBhB,IAAA,OAAIiB,SAAS,CAAC,IAAI,CAAAD,QAAA,CAAC,SAAO,CAAI,CAAC,cAC/Bd,KAAA,QAAAc,QAAA,eACEhB,IAAA,UAAOkB,IAAI,CAAC,OAAO,CAACC,WAAW,CAAC,OAAO,CAACC,KAAK,CAAEhB,KAAM,CAACiB,QAAQ,CAAGC,CAAC,EAAKjB,QAAQ,CAACiB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cACnGpB,IAAA,UAAOkB,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,UAAU,CAACC,KAAK,CAAEd,QAAS,CAACe,QAAQ,CAAGC,CAAC,EAAKf,WAAW,CAACe,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cAC/GpB,IAAA,WAAQwB,OAAO,CAAEd,YAAa,CAAAM,QAAA,CAAC,SAAO,CAAQ,CAAC,CAC9CR,KAAK,eAAIR,IAAA,MAAAgB,QAAA,CAAIR,KAAK,CAAI,CAAC,EACrB,CAAC,cACNN,KAAA,MAAAc,QAAA,EAAG,2BAAyB,cAAAhB,IAAA,CAACN,IAAI,EAAC+B,EAAE,CAAC,QAAQ,CAAAT,QAAA,CAAC,OAAK,CAAM,CAAC,EAAG,CAAC,IAAC,EACxD,CAAC,CAEd,CAEA,cAAe,CAAAb,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}